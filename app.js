!function t(i,e,o){function n(s,h){if(!e[s]){if(!i[s]){var a="function"==typeof require&&require;if(!h&&a)return a(s,!0);if(r)return r(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=e[s]={exports:{}};i[s][0].call(c.exports,function(t){var e=i[s][1][t];return n(e||t)},c,c.exports,t,i,e,o)}return e[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,i,e){"use strict";function o(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}function n(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function s(t,i,e){var o=t.halfWidth,n=t.halfHeight;return t.x-o<i&&t.x+o>i&&t.y-n<e&&t.y+n>e}function h(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.5;f(t,t.width*i,t.height*i)}function a(t){f(t,.75*t.width,.75*t.height)}function f(t,i,e){t.width=i,t.height=e,t.halfWidth=i/2,t.halfHeight=e/2,t.screen.width=i,t.screen.height=e}var c=function(){function t(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(i,e,o){return e&&t(i.prototype,e),o&&t(i,o),i}}();window.addEventListener("load",function(){function t(){var e=(new Date).getTime(),o=(u-e)/1e3;s.clearRect(0,0,i.width,i.height);for(var n=0;n<c.length;n++)c[n].tick(o,c,r);for(var h=0;h<c.length;h++)c[h].draw(s,r);u=e,requestAnimationFrame(t)}var i=document.getElementById("screen");i.addEventListener("wheel",function(t){t.deltaY>0?h(r):a(r)});var e=!1,o={x:0,y:0},n={x:0,y:0};i.addEventListener("mousedown",function(t){e=!0,n.x=r.x,n.y=r.y,o.x=t.x,o.y=t.y}),i.addEventListener("mouseup",function(t){e=!1}),i.addEventListener("mousemove",function(t){e&&(r.x=n.x+o.x-t.x,r.y=n.y+o.y-t.y)}),document.addEventListener("keydown",function(t){console.log(t),37===t.keyCode?f.controls.left=!0:38===t.keyCode?f.controls.up=!0:39===t.keyCode?f.controls.right=!0:40===t.keyCode&&(f.controls.down=!0)}),document.addEventListener("keyup",function(t){37===t.keyCode?f.controls.left=!1:38===t.keyCode?f.controls.up=!1:39===t.keyCode?f.controls.right=!1:40===t.keyCode&&(f.controls.down=!1)}),i.width=160,i.height=90;var r={x:0,y:0,width:i.width,height:i.height,halfWidth:i.width/2,halfHeight:i.height/2,screen:i},s=i.getContext("2d");s.imageSmoothingEnabled=!1,s.strokeStyle="#ffffff",s.fillStyle="#ffffff",s.lineWidth=1;var f=new l(1,0,-20),c=[f,new y(100,0,0)],u=(new Date).getTime();t()});var u=function(){function t(i,e,o,n){r(this,t),this.size=i,this.radius=Math.sqrt(i),this.position={x:e,y:o},this.color=n}return c(t,[{key:"draw",value:function(t,i){var e=this.position,o=e.x,n=e.y,r=this.radius,h=this.color;s(i,o,n)&&(t.fillStyle=h,t.beginPath(),t.arc(i.halfWidth+i.x-o,i.halfHeight+i.y-n,r,0,2*Math.PI),t.fill())}}]),t}(),l=function(t){function i(t,e,n){r(this,i);var s=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e,n,"#33aa33"));return s.velocity={vx:0,vy:0},s.friction=.95,s.controls={left:!1,right:!1,up:!1,down:!1},s}return n(i,u),c(i,[{key:"tick",value:function(t,i,e){this.controls.left&&(this.velocity.vx+=-1),this.controls.right&&(this.velocity.vx+=1),this.controls.up&&(this.velocity.vy+=-1),this.controls.down&&(this.velocity.vy+=1),this.position.x+=this.velocity.vx*t,this.position.y+=this.velocity.vy*t,this.velocity.vx*=1- -this.friction*t,this.velocity.vy*=1- -this.friction*t;for(var o=0;o<i.length;o++){var n=i[o];if(!(n===this||n instanceof y)){var r=this.position.x-n.position.x,s=this.position.y-n.position.y;if(Math.sqrt(r*r+s*s)<this.radius+n.radius){i.splice(o,1),this.size+=n.size,this.radius=Math.sqrt(this.size),h(e,1+n.size/this.size);break}}}e.x=this.position.x,e.y=this.position.y}}]),i}(),y=function(t){function i(t,e,n){return r(this,i),o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e,n,"#ffffff"))}return n(i,u),c(i,[{key:"tick",value:function(t,i){var e=this.position,o=e.x,n=e.y;this.color;if(Math.random()<.01){var r=Math.sqrt(Math.random()*this.size);this.size-=r,this.radius=Math.sqrt(this.size);var s=5*(Math.random()-.5),h=5*(Math.random()-.5);if(i.push(new d(r,o+(s<0?this.radius:-this.radius),n+(h<0?this.radius:-this.radius),s,h,"#ffff00")),this.size<=0)for(var a=0;a<i.length;a++)if(i[a]===this){i.splice(a,1);break}}}}]),i}(),d=function(t){function i(t,e,n,s,h,a){r(this,i);var f=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e,n,a));return f.velocity={vx:s,vy:h},f}return n(i,u),c(i,[{key:"tick",value:function(t,i){this.position.x+=this.velocity.vx*t,this.position.y+=this.velocity.vy*t,this.velocity.vx+=(Math.random()-.5)*t,this.velocity.vy+=(Math.random()-.5)*t}}]),i}()},{}]},{},[1]);